////******* Modified and upload by: Magaña Abarca Sergio De Jesus.            Graficación 5 Semestre
////******* Author: Moreno Avila Jazmín.

#include <windows.h>
#include <cstdlib>
#include <iostream>
#include <gl\glut.h>
	
using namespace std;
	
float w = 600, h = 600;
double EyeX = 0.0, EyeY = 0.0, EyeZ = 0.0, CenterX, CenterY = 12, CenterZ, UpX, UpY = 1, UpZ;
	
//Cono
float angulolento = 0.0; //ANGULO DE ROTACIÓN
float s = 0.1; //SUMADOR DEL ANGULO DE ROTACIÓN
float na = 10.0; //NUMERO DE ALAMBRES

void Inicializar(void) {
    glMatrixMode(GL_PROJECTION);
    glClearColor(0, 0, 0, 0);
    glShadeModel(GL_FLAT);
    glEnable(GL_DEPTH_TEST);//Profundidad
    glOrtho(-15, 18, 0, 15, -15, 15);
}

void Dibuja() {
    glColor3f(1.0, 1.0, 0.0);
    Texto(1, -14, 12, "Cono");
    glColor3f(0.0, 1.0, 0.0);
    glPushMatrix();
    glTranslatef(-13.0, 9.0, 0.0);
    glRotatef(angulolento, 1.0, 1.0, 1.0);
    glutWireCone(1.5, 2.5, na, 20.0);
    glPopMatrix();
}
	
void Redimencionar(int w, int h) {
    glLoadIdentity();
    gluPerspective(90, (GLfloat)h / (GLfloat)w, 1, 300); //Campo de visión//perspectiva
    glMatrixMode(GL_MODELVIEW);
}
			
void Teclado(unsigned char key, int EyeX, int EyeY) {
    switch(key) {
    /**Rotacion - Eje XZ*/
    case 'a':
        //CenterX -=5;
        //Primer movimiento
        if (CenterX > -50 && CenterZ <= 0) {
            CenterX -= 5;
        }
        //Segundo movimiento
        if(CenterZ < 50 && CenterX <= -50) {
            CenterZ += 5;
        }
        //Tercer movimiento
        if(CenterX < 50 && CenterZ >= 50) {
            CenterX += 5;
        }
        //Cuarto movimiento
        if(CenterZ > -50 && CenterX >= 0) {
            CenterZ -= 5;
        }

        cout << CenterX << endl;
        break;
    /**Rotacion + Eje XZ*/
    case 'd':


        if(CenterZ <  50 && CenterX >= 0) {
            CenterZ += 5;
        }
        if(CenterX > -50 && CenterZ >= 50) {
            CenterX -= 5;
        }
        if(CenterZ > -50 && CenterX <= -50) {
            CenterZ -= 5;
        }
        if(CenterX <  50 && CenterZ <= 0) {
            CenterX += 5;
        }

        cout << CenterX << endl;
        break;
    /**Y*/
    case 'w':
        CenterY = CenterY + 5;

        break;
    case 's':
        CenterY = CenterY - 5;

        break;
    /**Z*/
    
    }
    glutPostRedisplay();
}

void Flechas(int key, int EyeX, int EyeY) {
    switch(key) {
    case GLUT_KEY_RIGHT:
        EyeZ = EyeZ + 5;
        CenterZ = CenterZ + 5;

        break;
    case GLUT_KEY_LEFT:
        EyeZ = EyeZ - 5;
        CenterZ = CenterZ - 5;

        break;
    case GLUT_KEY_UP:
        EyeX = EyeX + 5;
        CenterX = CenterX + 5;

        break;
    case GLUT_KEY_DOWN:
        EyeX = EyeX - 5;
        CenterX = CenterX - 5;
        break;
    }
    glutPostRedisplay();
}
			       
int main(int argc, char *argv[]) {
    glutInit(&argc, argv);
    glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB);
    glutInitWindowPosition (50, 100);
    glutInitWindowSize (800, 600); // Establece alto y ancho de la pantalla
    glutCreateWindow ("Lookat XY rotation");
    Inicializar();
    glutDisplayFunc(Plano);
    glutKeyboardFunc(Teclado);
    glutSpecialFunc(Flechas);
    glutReshapeFunc(Redimencionar);
    glutMainLoop();
    system("PAUSE");
    return EXIT_SUCCESS;
}
